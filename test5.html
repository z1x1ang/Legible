import numpy as np

# Define the function f(t) = T - t, where T is the final time step
def f(t, T):
    return T - t

# Given trajectory and probabilities at each step
times = np.array([0, 1, 2, 3, 4, 5, 6, 7, 8])
probabilities = np.array([0.5, 0.296, 0.977, 0.999, 0.999, 0.999, 0.999, 0.999, 0.999])
T = times[-1]  # Final time step

# Calculate the numerator and denominator of lambda
numerator = np.sum(probabilities * f(times, T))
denominator = np.sum(f(times, T))

# Compute lambda
lambda_value = numerator / denominator
lambda_value

0.748